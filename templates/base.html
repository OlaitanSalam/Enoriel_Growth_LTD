{% load static %}
<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="apple-touch-icon" sizes="180x180" href="{% static 'images/apple-touch-icon.png' %}">
<link rel="icon" type="image/png" sizes="32x32" href="{% static 'images/favicon-32x32.png' %}">
<link rel="icon" type="image/png" sizes="16x16" href="{% static 'images/favicon-16x16.png' %}">
<link rel="manifest" href="{% static 'images/site.webmanifest' %}">

  <title>{% block title %}Enoriel Cars - Buy Quality Used and New Cars{% endblock %}</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            // Primary Colors
            primary: '#001F3F',      // Navy - Main brand color
            secondary: '#FF4500',    // Tangerine - CTA & accents
            accent: '#03315C',       // Navy Light - Secondary backgrounds
            teal:'#009CA6',
            'teal-600':'#037e87',
            lime_green:'#4ADE58',
            
            // Neutral Colors
            white: '#FFFFFF',
            'gray-50': '#F9FAFB',
            'gray-100': '#F3F4F6',
            'gray-200': '#E5E7EB',
            'gray-300': '#D1D5DB',
            'gray-400': '#9CA3AF',
            'gray-500': '#6B7280',
            'gray-600': '#4B5563',
            'gray-700': '#374151',
            'gray-800': '#1F2937',
            'gray-900': '#111827',
            
            // Semantic Colors
            success: '#10B981',
            warning: '#F59E0B',
            error: '#EF4444',
            info: '#3B82F6'
          }
        }
      }
    }
  </script>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

  
  <!-- AOS CSS for animations -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  
  <style>
      :root { 
          --nav-height: 60px;
          
          /* Color Variables - Easy to change globally */
          --color-primary: #001F3F;
          --color-teal:#037e87;
          --color-lime-green:#4ADE58;
          --color-secondary: #FF4500;
          --color-accent: #03315C;
          --color-white: #FFFFFF;
          --color-gray-50: #F9FAFB;
          --color-gray-100: #F3F4F6;
          --color-gray-200: #E5E7EB;
          --color-gray-300: #D1D5DB;
          --color-gray-400: #9CA3AF;
          --color-gray-500: #6B7280;
          --color-gray-600: #4B5563;
          --color-gray-700: #374151;
          --color-gray-800: #1F2937;
          --color-gray-900: #111827;
      }

      /* Tablet and Desktop adjustments */
        @media (min-width: 768px) {
            :root {
                --nav-height: 80px;
            }
        }
      
      body {
    font-family: 'Inter', sans-serif;
    margin: 0;
    padding: 0;
}

h1, h2, h3, h4 {
    font-family: 'Poppins', sans-serif;
    font-weight: 600;
}

      
      /* Universal navbar blur effect for all pages */
      .nav-blur-background {
          background: rgba(255, 255, 255, 0.1);
          backdrop-filter: blur(10px);
          -webkit-backdrop-filter: blur(10px);
          border-bottom: 1px solid rgba(255, 255, 255, 0.2);
          transition: background-color 0.3s ease, border-color 0.3s ease;
      }
      
      /* Navbar on white backgrounds - darker text */
      .nav-blur-background.nav-on-light {
          background: rgba(255, 255, 255, 0.95); /* Solid white with slight transparency */
          border-bottom: 1px solid rgba(0, 31, 63, 0.1);
          box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      }
      
      .nav-blur-background.nav-on-light .nav-text-light,
      .nav-blur-background.nav-on-light .nav-capsule {
          color: var(--color-primary);
          border-color: rgba(0, 31, 63, 0.3);
      }

      /* Invert logo brightness on light background if it's a white logo, 
         remove this filter if your logo is already dark/colored */
      /* .nav-blur-background.nav-on-light img { filter: invert(1) brightness(0.5); } */
      
      .nav-capsule {
          border-radius: 9999px;
          border: 1px solid rgba(255, 255, 255, 0.3);
          background: rgba(255, 255, 255, 0.1);
          backdrop-filter: blur(15px);
          -webkit-backdrop-filter: blur(15px);
          transition: all 0.3s ease;
      }
      
      /* Ensure content starts at same position as navbar */
      .content-wrapper {
          margin-top: 0;
      }

      /* Car Logos Ticker Styles - FIXED for mobile speed + fade edges */
.logos-ticker-container {
    overflow: hidden;
    position: relative;
    background: transparent;
    mask-image: linear-gradient(
        to right,
        transparent 0%,
        black 10%,
        black 90%,
        transparent 100%
    );
    -webkit-mask-image: linear-gradient(
        to right,
        transparent 0%,
        black 10%,
        black 90%,
        transparent 100%
    );
}

/* SAME SPEED on ALL devices - now uses % instead of fixed translate */
.logos-ticker-track {
    display: flex;
    gap: 60px;
    animation: scroll-logos 20s linear infinite; /* Consistent time */
    will-change: transform;
}

.logos-ticker-track:hover {
    animation-play-state: paused;
}

.logo-item {
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.logo-image {
    height: 40px;
    width: auto;
    object-fit: contain;
    mix-blend-mode: darken;
}

.logo-image:hover {
    transform: scale(1.15);
    transition: transform 0.2s ease-in-out;
}

/* True infinite scroll using duplicated content + percentage */
@keyframes scroll-logos {
    0% {
        transform: translateX(0);
    }
    100% {
        transform: translateX(-50%);
    }
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .logos-ticker-track {
        gap: 40px;
    }
    .logo-image {
        height: 32px;
    }
}

@media (max-width: 480px) {
    .logos-ticker-track {
        gap: 32px;
    }
    .logo-image {
        height: 26px;
    }
}

      
  </style>
  {% block extra_css %}{% endblock %}
</head>

<body class="bg-white text-primary antialiased">
<!-- STICKY NAVBAR -->
<!-- In your base.html - Update the navbar section -->
<header class="sticky top-0 left-0 w-full z-50" id="main-navbar">
    <nav class="nav-blur-background" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" style="height: var(--nav-height);">
            <div class="h-full flex items-center justify-between">
                
                <!-- LEFT LOGO - Adjust sizes for better tablet responsiveness -->
                <a href="{% url 'home' %}" class="flex items-center h-full">
                    <img src="{% static 'images/Enoriel_logo2.png' %}"
     alt="Enoriel"
     class="h-10 md:h-12 w-auto object-contain transition-all duration-300" />

                    
                    <!-- Show company name on tablets and up -->
                    <div class="hidden md:block ml-3">
                        <div class="text-base lg:text-lg font-semibold text-white nav-text-light leading-tight">Enoriel Growth Ltd</div>
                        <div class="text-xs text-white/80 nav-text-light -mt-0.5">Buy ¬∑ Sell ¬∑ Source</div>
                    </div>
                </a>

                <!-- CENTER CAPSULE NAV - Show on lg and up instead of md -->
                <div class="hidden lg:flex items-center justify-center flex-1">
                    <div class="nav-capsule px-6 lg:px-8 py-2 lg:py-3 flex items-center space-x-4 lg:space-x-8 text-white text-sm font-medium nav-text-light">
                        <a href="{% url 'home' %}" 
                        class="hover:text-teal transition duration-300 whitespace-nowrap {% if request.path == '/' %}text-teal font-semibold{% endif %}">Home</a>
                        <a href="{% url 'car_list' %}" 
                        class="hover:text-teal transition duration-300 whitespace-nowrap {% if 'cars' in request.path %}text-teal font-semibold{% endif %}">Browse Cars</a>
                        <a href="{% url 'section_list' 'foreign_used' %}" 
                        class="hover:text-teal transition duration-300 whitespace-nowrap {% if 'foreign_used' in request.path %}text-teal font-semibold{% endif %}">Tokunbo</a>
                        <a href="{% url 'section_list' 'sweet_deals' %}" 
                        class="hover:text-teal transition duration-300 whitespace-nowrap {% if 'sweet_deals' in request.path %}text-teal font-semibold{% endif %}">Sweet Deals</a>
                        <a href="{% url 'about' %}" 
                        class="hover:text-teal transition duration-300 whitespace-nowrap {% if 'about' in request.path %}text-teal font-semibold{% endif %}">About Us</a>
                        <a href="{% url 'contact' %}" 
                        class="hover:text-teal transition duration-300 whitespace-nowrap {% if 'contact' in request.path %}text-teal font-semibold{% endif %}">Contact</a>
                    </div>
                </div>

                <!-- RIGHT CTA BUTTON - Show on lg and up instead of md -->
                <div class="hidden lg:flex items-center">
                    <a href="{% url 'car_list' %}"
                       class="px-4 lg:px-6 py-2 lg:py-3 rounded-lg text-white bg-teal font-semibold hover:bg-teal-600 transition duration-300 shadow-lg text-sm lg:text-base whitespace-nowrap">  <!-- Adjusted padding and text size -->
                        Find Your Car
                    </a>
                </div>

                <!-- MOBILE MENU BUTTON - Show on lg and below -->
                <button id="mobile-toggle" class="lg:hidden text-white nav-text-light p-2">  <!-- Changed from md:hidden to lg:hidden -->
                    <svg id="hamburger-open" class="w-6 h-6 lg:w-7 lg:h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">  <!-- Adjusted size -->
                        <path stroke-linecap="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                    </svg>
                    <svg id="hamburger-close" class="w-6 h-6 lg:w-7 lg:h-7 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">  <!-- Adjusted size -->
                        <path stroke-linecap="round" stroke-width="2" d="M6 6l12 12M6 18L18 6"/>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- MOBILE DRAWER - Show on lg and below -->
    <div id="mobile-drawer" class="hidden lg:hidden absolute top-full left-0 w-full nav-blur-background border-t border-white/20 py-4 shadow-xl">
        <div class="max-w-7xl mx-auto px-4 space-y-3 bg-primary/95 backdrop-blur-md rounded-b-2xl">
            <a href="{% url 'home' %}" 
            class="block px-4 py-3 rounded-lg text-white nav-text-light hover:bg-white/10 transition {% if request.path == '/' %}bg-white/20 text-teal font-semibold{% endif %}">Home</a>
            <a href="{% url 'car_list' %}" 
            class="block px-4 py-3 rounded-lg text-white nav-text-light hover:bg-white/10 transition {% if 'cars' in request.path %}bg-white/20 text-teal font-semibold{% endif %}">Browse Cars</a>
            <a href="{% url 'section_list' 'foreign_used' %}" 
            class="block px-4 py-3 rounded-lg text-white nav-text-light hover:bg-white/10 transition {% if 'foreign_used' in request.path %}bg-white/20 text-teal font-semibold{% endif %}">Tokunbo</a>
            <a href="{% url 'section_list' 'sweet_deals' %}" 
            class="block px-4 py-3 rounded-lg text-white nav-text-light hover:bg-white/10 transition {% if 'sweet_deals' in request.path %}bg-white/20 text-teal font-semibold{% endif %}">Sweet Deals</a>
            <a href="{% url 'about' %}" 
            class="block px-4 py-3 rounded-lg text-white nav-text-light hover:bg-white/10 transition {% if 'about' in request.path %}bg-white/20 text-teal font-semibold{% endif %}">About Us</a>
            <a href="{% url 'contact' %}" 
            class="block px-4 py-3 rounded-lg text-white nav-text-light hover:bg-white/10 transition {% if 'contact' in request.path %}bg-white/20 text-teal font-semibold{% endif %}">Contact</a>
        </div>
    </div>
</header>

<!-- MAIN CONTENT WRAPPER -->
<div class="content-wrapper">
    {% if messages %}
    <div class="container mx-auto px-4 mt-4">
        {% for message in messages %}
        <div class="px-4 py-3 rounded-lg mb-3 {% if message.tags == 'error' %}bg-red-50 border border-red-200 text-red-800{% elif message.tags == 'success' %}bg-green-50 border border-green-200 text-green-800{% else %}bg-blue-50 border border-blue-200 text-blue-800{% endif %}">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <main class="min-h-[60vh]">
        {% block content %}{% endblock %}
    </main>

    <footer class="bg-primary text-white relative overflow-hidden">

    <!-- Gradient Background Accent -->
    <div class="absolute inset-0 bg-gradient-to-br from-primary via-accent to-primary opacity-70"></div>

    <div class="relative max-w-7xl mx-auto px-6 pt-16 pb-10">


        <!-- FOOTER GRID -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-12">

            <!-- Logo + Description -->
            <div class="space-y-4">
                <div class="flex items-center gap-3">
                    <img src="{% static 'images/Enoriel_logo2.png' %}" class="w-14 h-14 object-contain" alt="">
                    <div>
                        <p class="text-xl font-bold">Enoriel Growth Ltd</p>
                        <p class="text-gray-300 text-sm -mt-1">Strategic Asset Sourcing</p>
                    </div>
                </div>

                <p class="text-gray-300 text-sm leading-relaxed">
                    Buy, sell, and source the best quality vehicles with confidence.
                    Transparent pricing. Verified listings. Nigerian trusted.
                </p>

                <!-- Social Icons -->
                <div class="flex gap-4 pt-2">
    <a href="https://web.facebook.com/profile.php?id=61585130522602" class="w-10 h-10 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 transition">
        <i class="fab fa-facebook-f text-white text-lg"></i>
    </a>

    <a href="https://www.instagram.com/enorielgrowth?igsh=Z2FxbzV6N3hlNzV5" class="w-10 h-10 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 transition">
        <i class="fab fa-instagram text-white text-lg"></i>
    </a>

    <a href="https://x.com/EnorielGrowth" class="w-10 h-10 flex items-center justify-center rounded-full bg-white/10 hover:bg-white/20 transition">
        <i class="fab fa-x-twitter text-white text-lg"></i>
    </a>
</div>

            </div>

            <!-- Quick Links -->
            <div>
                <h3 class="text-lg font-semibold mb-4 relative pb-2 inline-block">
                    Quick Links
                    <span class="absolute left-0 -bottom-1 w-10 h-1 bg-teal rounded-full"></span>
                </h3>

                <ul class="space-y-3 text-gray-300 text-sm">
                    <li><a href="{% url 'home' %}" class="hover:text-white">Home</a></li>
                    <li><a href="{% url 'car_list' %}" class="hover:text-white">Browse Cars</a></li>
                    <li><a href="{% url 'car_list' %}?condition=foreign_used" class="hover:text-white">Tokunbo Cars</a></li>
                    <li><a href="{% url 'section_list' 'sweet_deals' %}" class="hover:text-white">Sweet Deals</a></li>
                </ul>
            </div>

            <!-- Popular Makes -->
            <div>
                <h3 class="text-lg font-semibold mb-4 relative pb-2 inline-block">
                    Popular Makes
                    <span class="absolute left-0 -bottom-1 w-10 h-1 bg-teal rounded-full"></span>
                </h3>

                <ul class="space-y-3 text-gray-300 text-sm">
                    <li><a href="{% url 'car_list' %}?make=Toyota" class="hover:text-white">Toyota</a></li>
                    <li><a href="{% url 'car_list' %}?make=Honda" class="hover:text-white">Honda</a></li>
                    <li><a href="{% url 'car_list' %}?make=Lexus" class="hover:text-white">Lexus</a></li>
                    <li><a href="{% url 'car_list' %}?make=Mercedes-Benz" class="hover:text-white">Mercedes-Benz</a></li>
                </ul>
            </div>

            <!-- Contact -->
            <div>
                <h3 class="text-lg font-semibold mb-4 relative pb-2 inline-block">
                    Contact Us
                    <span class="absolute left-0 -bottom-1 w-10 h-1 bg-teal rounded-full"></span>
                </h3>

                <ul class="space-y-3 text-gray-300 text-sm">
                    <li>üìç Lagos, Nigeria</li>
                    <li>üìû +234 707 728 7755</li>
                    <li>‚úâÔ∏è admin@enorielgrowth.com</li>
                </ul>

                <a href="https://wa.me/2347077287755" target="_blank" rel="noopener noreferrer"
                    class="mt-5 inline-flex items-center gap-2 px-5 py-2.5 bg-green-500 hover:bg-green-600 rounded-xl font-semibold text-white shadow-md transition">
                    <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.463 3.09"/>
                </svg>
                    Chat on WhatsApp
                </a>
            </div>
        </div>

        <!-- Bottom -->
        <div class="mt-16 pt-6 border-t border-white/10 text-center text-gray-300 text-sm">
            <p>&copy; {% now "Y" %} Enoriel Growth Ltd ‚Äî All rights reserved.</p>
        </div>
    </div>

</footer>

</div>

<!-- AOS JS -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

<script>
    // Initialize AOS
    AOS.init({
        duration: 800,
        once: true,
        offset: 100
    });

    // Mobile menu functionality
    (function() {
        const toggle = document.getElementById('mobile-toggle');
        const drawer = document.getElementById('mobile-drawer');
        const openIcon = document.getElementById('hamburger-open');
        const closeIcon = document.getElementById('hamburger-close');

        if (!toggle || !drawer) return;

        toggle.addEventListener('click', function() {
            const expanded = this.getAttribute('aria-expanded') === 'true';
            this.setAttribute('aria-expanded', String(!expanded));
            drawer.classList.toggle('hidden');

            openIcon.classList.toggle('hidden');
            closeIcon.classList.toggle('hidden');
        });

        document.addEventListener('click', function(e) {
            const target = e.target;
            if (!drawer.classList.contains('hidden') && !drawer.contains(target) && !toggle.contains(target)) {
                drawer.classList.add('hidden');
                openIcon.classList.remove('hidden');
                closeIcon.classList.add('hidden');
                toggle.setAttribute('aria-expanded', 'false');
            }
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && !drawer.classList.contains('hidden')) {
                drawer.classList.add('hidden');
                openIcon.classList.remove('hidden');
                closeIcon.classList.add('hidden');
                toggle.setAttribute('aria-expanded', 'false');
            }
        });
    })();

    // UPDATED: Navbar Scroll Effect Logic
    (function() {
        const navbar = document.getElementById('navbar');
        const isHomepage = window.location.pathname === '/';
        
        function updateNavbar() {
            if (window.scrollY > 50 || !isHomepage) {
                // When scrolled down OR not on homepage, show the light background navbar (Navy Text)
                navbar.classList.add('nav-on-light');
            } else {
                // When at top of homepage, keep it transparent (White Text)
                navbar.classList.remove('nav-on-light');
            }
        }

        if (isHomepage) {
            // Initial check on load
            updateNavbar();
            // Add scroll listener
            window.addEventListener('scroll', updateNavbar);
        } else {
            // On other pages, always use light mode
            if(navbar) navbar.classList.add('nav-on-light');
        }
    })();
</script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const categoryButtons = document.querySelectorAll('.category-btn');
        const carsScroll = document.getElementById('cars-scroll');
        const loadingSpinner = document.getElementById('loading-spinner');
        const emptyState = document.getElementById('empty-state');
        
        if (!categoryButtons.length) return;
        
        // UPDATED: Matches the modern card HTML with icons and grid layout
        function renderCarCard(car) {
            return `
                <div class="w-64 flex-shrink-0">
                    <div class="bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 border border-gray-200 car-card-modern group h-full flex flex-col">
                        <a href="${car.detail_url}" class="block h-full flex flex-col">
                            
                            <!-- Image -->
                            <div class="relative h-44 overflow-hidden bg-gray-100 rounded-t-xl">
                                <img 
                                    src="${car.image_url}" 
                                    alt="${car.title}"
                                    class="w-full h-full object-cover group-hover:scale-105 transition duration-300"
                                    loading="lazy"
                                    onerror="this.src='/static/images/placeholder.png'"
                                >
                                
                                ${car.featured ? `
                                <div class="absolute top-2 left-2 bg-gradient-to-r from-secondary to-orange-500 text-white px-3 py-1 rounded-full text-xs font-semibold shadow-md">
                                    üî• Sweet Deal
                                </div>` : ''}
                            </div>
                            
                            <!-- Content -->
                            <div class="p-4 flex-1 flex flex-col">
                                <!-- Price -->
                                <div class="mb-1">
                                    <div class="text-xl font-extrabold text-teal tracking-tight">
                                        ${car.formatted_price}
                                    </div>
                                </div>
                                
                                <!-- Title -->
                                <h3 class="text-[15px] font-semibold text-gray-900 mb-2 line-clamp-2 transition-colors h-10">
                                    ${car.title}
                                </h3>
                                
                                <!-- Specs -->
                                <div class="grid grid-cols-2 gap-y-1.5 gap-x-2 text-[11px] text-gray-700 mb-3">
                                    <!-- Year -->
                                    <div class="flex items-center space-x-1.5">
                                        <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3M4 11h16M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
                                        <span>${car.year}</span>
                                    </div>
                                    
                                    <!-- Transmission -->
                                    <div class="flex items-center space-x-1.5">
                                        <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M10 6h4l1 3 3 1v4l-3 1-1 3h-4l-1-3-3-1V10l3-1 1-3z" /></svg>
                                        <span>${car.transmission || 'Auto'}</span>
                                    </div>
                                    
                                    <!-- Fuel -->
                                    <div class="flex items-center space-x-1.5">
                                        <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 3h7v18H6a2 2 0 01-2-2V5a2 2 0 012-2zm13 5h-3v6a3 3 0 006 0V9l-2-2z" /></svg>
                                        <span>${car.fuel_type || 'Petrol'}</span>
                                    </div>
                                    
                                    <!-- Mileage -->
                                    <div class="flex items-center space-x-1.5">
                                        <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3a9 9 0 100 18 9 9 0 000-18zm0 9l4-2" /></svg>
                                        <span>${car.mileage ? car.mileage.toLocaleString() + ' km' : 'N/A'}</span>
                                    </div>
                                </div>
                                
                                <!-- Location -->
                                ${car.location ? `
                                <div class="flex items-center text-[11px] text-gray-500 border-t border-gray-100 pt-2 mt-auto">
                                    <svg class="w-4 h-4 mr-1 text-gray-400" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a6 6 0 00-6 6c0 4.418 6 10 6 10s6-5.582 6-10a6 6 0 00-6-6zm0 8a2 2 0 110-4 2 2 0 010 4z"/></svg>
                                    <span class="truncate">${car.location}</span>
                                </div>` : ''}
                            </div>
                        </a>
                    </div>
                </div>
            `;
        }
        
        function loadCategoryCars(categoryId, categoryName, buttonElement) {
            loadingSpinner.classList.remove('hidden');
            carsScroll.innerHTML = '';
            emptyState.classList.add('hidden');
            
            fetch(`/api/category-cars/?category_id=${categoryId}`)
                .then(response => {
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    return response.json();
                })
                .then(data => {
                    loadingSpinner.classList.add('hidden');
                    if (data.success && data.cars && data.cars.length > 0) {
                        const carsHTML = data.cars.map(car => renderCarCard(car)).join('');
                        carsScroll.innerHTML = carsHTML;
                        emptyState.classList.add('hidden');
                    } else {
                        carsScroll.innerHTML = '';
                        emptyState.classList.remove('hidden');
                    }
                })
                .catch(error => {
                    console.error('Error loading cars:', error);
                    loadingSpinner.classList.add('hidden');
                    emptyState.classList.remove('hidden');
                });
            
            // UPDATED: Fixed color classes to use 'bg-secondary' instead of 'bg-tangerine'
            categoryButtons.forEach(btn => {
                btn.classList.remove('bg-teal', 'text-white');
                btn.classList.add('bg-gray-100', 'text-gray-700', 'hover:bg-teal', 'hover:text-white');
            });
            buttonElement.classList.remove('bg-gray-100', 'text-gray-700', 'hover:bg-teal', 'hover:text-white');
            buttonElement.classList.add('bg-teal', 'text-white');
        }
        
        categoryButtons.forEach(button => {
            button.addEventListener('click', function() {
                const categoryId = this.dataset.categoryId;
                const categoryName = this.dataset.categoryName;
                loadCategoryCars(categoryId, categoryName, this);
            });
        });
        
        if (categoryButtons.length > 0) {
            categoryButtons[0].click();
        }
    });
</script>

{% block extra_js %}{% endblock %}
</body>
</html>